<html>
	<head>
		<meta charset="utf-8" />
		<script type="text/javascript" src="../js/angular-three.dependencies.js"></script>
		<script type="text/javascript" src="../js/angular-three.js"></script>
		<script type="text/javascript">
			var app = angular.module('simple-scene', ['angularThree']);
			
			app.controller('controller', function($scope, $document, $three) {
				$scope.width = 1024;
				$scope.height = 768;
				$scope.lightColor = [0xFFFFFF];
				$scope.lightPosition = {
					x: 10,
					y: 20,
					z: 100
				};
				$scope.addSphere = function() {
					// CORS resolution as anonymous to avoid cross-domain origin conflicts.
					THREE.TextureLoader.prototype.crossOrigin = 'anonymous';
					var earthImgUrl = "http://localhost:8080/ramm/earth.jpg";
					var texloader = new THREE.TextureLoader();
					// Load the texture.
					var texture = texloader.load(earthImgUrl, function() {
						// Texture ready.
						var sphere = new THREE.Mesh(
						   new THREE.SphereGeometry(50, 16, 16),
						   new THREE.MeshPhongMaterial({map: texture}));
						$three.scene().add(sphere);
					});
				};
				// DÃ©marrage de l'application ThreeJS.
				$three.initialize();
			});
		</script>
		<title>Sample Three.js</title>
	</head>
	<body ng-app="simple-scene" ng-controller="controller">
		<three-canvas></three-canvas>
		<three-renderer type="webgl" td-size="[{{width}}, {{height}}]">
			<three-scene>
				<three-camera type="perspective" parameters="[45, {{width/height}}, 0.1, 10000]" td-position='{"x":0, "y":0, "z":300}'></three-camera>
				<three-light type="point" parameters="{{lightColor}}" td-position="{{lightPosition}}"></three-light>
			</three-scene>
		</three-renderer>
		<button ng-click="addSphere()" onClick="this.style.display = 'none'">ADD EARTH</button>
		<button ng-click="lightPosition.x = lightPosition.x + 20;">INCR X</button>
		<button ng-click="lightPosition.x = lightPosition.x - 20;">DECR X</button>
	</body>
</html>